<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Course Registration</title>
  <link rel="stylesheet" href="/front-end/styles/StudentRegistration.css">
</head>
<body>
  <div class="container">
    <!-- Sidebar -->
    <aside class="sidebar">
      <h1 class="logo">studentIS</h1>
      <nav>
        <ul>
          <li><a href="#">HomePage</a></li>
          <li><a href="#" class="active">Course Registration</a></li>
          <li><a href="Schedule.html">Schedule</a></li>
        </ul>
      </nav>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <header class="header">
        <h1>Course Registration</h1>
        <div class="search-bar">
          <input type="search" placeholder="Search courses...">
        </div>
      </header>

      <!-- Info Cards -->
      <div class="info-cards">
        <div class="info-card">
          <h3>Total Courses</h3>
          <p class="number">30</p>
        </div>
        <div class="info-card">
          <h3>Credit Hours remaining</h3>
          <p class="number">18</p>
        </div>
        <div class="info-card">
          <h3>Current GPA</h3>
          <p class="number">2.8</p>
        </div>
      </div>

      <!-- Filter Tabs -->
      <div class="filter-tabs">
        <button class="tab active">All Courses</button>
        <button class="tab">Registered</button>
        <button class="tab">Available</button>
      </div>

      <!-- Course Grid -->
      <div class="course-grid">
        <!-- Course Card 1 -->
        <div class="course-card">
          <h2>Data Structures and Algorithms</h2>
          <p class="instructor">Dr. Hesham Sakr</p>
          <div class="course-details">
            <div class="detail">
              <span>Course Code:</span>
              <span>CEF111</span>
            </div>
            <div class="detail">
              <span>Credit Hours:</span>
              <span>4</span>
            </div>
            <div class="detail">
              <span>Available Seats:</span>
              <span>25</span>
            </div>
          </div>
          <button class="register-btn">Register</button>
        </div>

        <!-- Course Card 2 -->
        <div class="course-card">
          <h2>Introduction to Programming</h2>
          <p class="instructor">Dr. Ayman Taha</p>
          <div class="course-details">
            <div class="detail">
              <span>Course Code:</span>
              <span>CET123</span>
            </div>
            <div class="detail">
              <span>Credit Hours:</span>
              <span>3</span>
            </div>
            <div class="detail">
              <span>Available Seats:</span>
              <span>12</span>
            </div>
          </div>
          <button class="register-btn">Register</button>
        </div>

        <!-- Course Card 3 -->
        <div class="course-card">
          <h2>Database Management Systems</h2>
          <p class="instructor">Dr. Alyaa</p>
          <div class="course-details">
            <div class="detail">
              <span>Course Code:</span>
              <span>CAT11</span>
            </div>
            <div class="detail">
              <span>Credit Hours:</span>
              <span>3</span>
            </div>
            <div class="detail">
              <span>Available Seats:</span>
              <span>50</span>
            </div>
          </div>
          <button class="drop-btn">Drop Course</button>
        </div>
      </div>
    </main>
  </div>

  <!-- Time Slot Modal for User with Tab Navigation -->
  <div id="timeSlotModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal()">&times;</span>
      <h2>Select Time Slot for Course <span id="courseCodeDisplay"></span></h2>
      
      <!-- Tab Navigation -->
      <div class="tab-nav">
        <button class="tab-btn active" data-tab="lecture">Lecture</button>
        <button class="tab-btn" data-tab="lab">Lab</button>
        <button class="tab-btn" data-tab="tutorial">Tutorial</button>
      </div>
      
      <!-- Tab Content -->
      <div class="tab-content">
        <div class="tab-pane active" id="lecture">
          <div class="time-slot-option">
            <input type="radio" name="lectureSlot" id="lectureSlot1" value="lectureSlot1">
            <label for="lectureSlot1">Monday, 9:00 AM (Available Seats: 20)</label>
          </div>
          <div class="time-slot-option">
            <input type="radio" name="lectureSlot" id="lectureSlot2" value="lectureSlot2">
            <label for="lectureSlot2">Wednesday, 11:00 AM (Available Seats: 15)</label>
          </div>
        </div>
        <div class="tab-pane" id="lab">
          <div class="time-slot-option">
            <input type="radio" name="labSlot" id="labSlot1" value="labSlot1">
            <label for="labSlot1">Tuesday, 10:00 AM (Available Seats: 10)</label>
          </div>
          <div class="time-slot-option">
            <input type="radio" name="labSlot" id="labSlot2" value="labSlot2">
            <label for="labSlot2">Thursday, 2:00 PM (Available Seats: 8)</label>
          </div>
        </div>
        <div class="tab-pane" id="tutorial">
          <div class="time-slot-option">
            <input type="radio" name="tutorialSlot" id="tutorialSlot1" value="tutorialSlot1">
            <label for="tutorialSlot1">Friday, 1:00 PM (Available Seats: 12)</label>
          </div>
          <div class="time-slot-option">
            <input type="radio" name="tutorialSlot" id="tutorialSlot2" value="tutorialSlot2">
            <label for="tutorialSlot2">Saturday, 3:00 PM (Available Seats: 9)</label>
          </div>
        </div>
      </div>
      <br>
      <button type="submit" class="btn-submit">Submit Selection</button>
    </div>
  </div>

  <script src="/front-end/scripts/studentRegistration.js"></script>

  <!-- Modal and Tab Handling Script -->
  <script>
    function openModal(courseCode) {
      document.getElementById('timeSlotModal').style.display = 'block';
      document.getElementById('courseCodeDisplay').innerText = courseCode;
    }
    function closeModal() {
      document.getElementById('timeSlotModal').style.display = 'none';
    }
    window.onclick = function(event) {
      var modal = document.getElementById('timeSlotModal');
      if (event.target == modal) {
        modal.style.display = "none";
      }
    }
    // Tab switching logic
    const tabButtons = document.querySelectorAll('.tab-btn');
    const tabPanes = document.querySelectorAll('.tab-pane');
    tabButtons.forEach(button => {
      button.addEventListener('click', function() {
        // Remove active class from all buttons and panes
        tabButtons.forEach(btn => btn.classList.remove('active'));
        tabPanes.forEach(pane => pane.classList.remove('active'));
        // Add active class to the clicked button and corresponding pane
        this.classList.add('active');
        const tabId = this.getAttribute('data-tab');
        document.getElementById(tabId).classList.add('active');
      });
    });
    // Handle form submission (demo purpose)
    document.querySelector('.btn-submit').addEventListener('click', function() {
      const lectureSlot = document.querySelector('input[name="lectureSlot"]:checked');
      const labSlot = document.querySelector('input[name="labSlot"]:checked');
      const tutorialSlot = document.querySelector('input[name="tutorialSlot"]:checked');
      let message = "You selected:";
      if (lectureSlot) {
        message += "\nLecture - " + lectureSlot.nextElementSibling.innerText;
      }
      if (labSlot) {
        message += "\nLab - " + labSlot.nextElementSibling.innerText;
      }
      if (tutorialSlot) {
        message += "\nTutorial - " + tutorialSlot.nextElementSibling.innerText;
      }
      if (!lectureSlot && !labSlot && !tutorialSlot) {
        alert("Please select at least one time slot.");
      } else {
        alert(message);
        closeModal();
      }
    });
  </script>
</body>
</html>
